---
all:

  children:
    # ................................................
    mylab:
      hosts:

        ryan9:
          ansible_host: localhost
          ansible_connection: local
        dennuc:
          ansible_host: dennuc.a0a0.org
        nuc11:
          ansible_host: nuc11.a0a0.org
        monitor0:
          ansible_host: monitor0.a0a0.org
        monitor1:
          ansible_host: monitor1.a0a0.org
        # fed40-1:
        #   ansible_host: 192.168.40.101
        # ubuntu24:
        #   ansible_host: 192.168.40.117
        monitor2:
          ansible_host: 192.168.40.107

      vars: 
        telegraf_outputs: []

      children:
        #......................................
        provisioner:
          hosts:
            ryan9:
        #......................................
        metric_collectors:
          hosts:
            # monitor0:
            #   influx_data_path: /mnt/measurements/influxdb
            #   influx_defaults: etc-default-telegraf-linode
            monitor1:
              influx_data_path: /var/lib/influxdb
              influx_defaults: etc-default-telegraf-local
              influxdb_cert: "/etc/ssl/certs/x509.cer"
              influxdb_key: "/etc/ssl/private/x509.key"
              telegraf_outputs: [localhost]


            monitor2:
              influx_data_path: /var/lib/influxdb
              influx_defaults: etc-default-telegraf-local
              influxdb_cert: ""
              influxdb_key: ""
              telegraf_outputs: [localhost,monitor1]


          #.........................................
          # metric_collectors only vars
          vars: 
            influx_level: error

        #......................................
        # used to install common packages
        clients:
          hosts:
            ryan9:
            dennuc:
            nuc11:
            #monitor0:
            #monitor1:
            #monitor2:

          #..........................................
          # client only vars ( alloy and telegraf)
          # only promtail for now.  moving to alloy soon
          vars:

            telegraf_outputs: [monitor0,monitor1]

        

